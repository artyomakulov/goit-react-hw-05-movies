"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[549],{549:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var r,a=n(439),u=n(791);function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(r||(r={}));var i=function(t){return t};var c="beforeunload",s="popstate";function l(t){t.preventDefault(),t.returnValue=""}function f(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function p(t){var e=t.pathname,n=void 0===e?"/":e,r=t.search,a=void 0===r?"":r,u=t.hash,o=void 0===u?"":u;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function v(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}var d=n(243),g=n(689),m=n(87),y=n(184);function b(){var t=(0,u.useState)(!1),e=(0,a.Z)(t,2),n=e[0],b=e[1],x=(0,u.useState)(""),j=(0,a.Z)(x,2),k=j[0],P=j[1],w=(0,g.TH)(),S=(0,m.lr)(),_=(0,a.Z)(S,2),E=_[0],O=_[1];console.log("searchParams",E);var C=function(t){void 0===t&&(t={});var e=t.window,n=void 0===e?document.defaultView:e,a=n.history;function u(){var t=n.location,e=t.pathname,r=t.search,u=t.hash,o=a.state||{};return[o.idx,i({pathname:e,search:r,hash:u,state:o.usr||null,key:o.key||"default"})]}var d=null;n.addEventListener(s,(function(){if(d)j.call(d),d=null;else{var t=r.Pop,e=u(),n=e[0],a=e[1];if(j.length){if(null!=n){var o=y-n;o&&(d={action:t,location:a,retry:function(){E(-1*o)}},E(o))}}else _(t)}}));var g=r.Pop,m=u(),y=m[0],b=m[1],x=f(),j=f();function k(t){return"string"===typeof t?t:p(t)}function P(t,e){return void 0===e&&(e=null),i(o({pathname:b.pathname,hash:"",search:""},"string"===typeof t?v(t):t,{state:e,key:h()}))}function w(t,e){return[{usr:t.state,key:t.key,idx:e},k(t)]}function S(t,e,n){return!j.length||(j.call({action:t,location:e,retry:n}),!1)}function _(t){g=t;var e=u();y=e[0],b=e[1],x.call({action:g,location:b})}function E(t){a.go(t)}return null==y&&(y=0,a.replaceState(o({},a.state,{idx:y}),"")),{get action(){return g},get location(){return b},createHref:k,push:function t(e,u){var o=r.Push,i=P(e,u);if(S(o,i,(function(){t(e,u)}))){var c=w(i,y+1),s=c[0],l=c[1];try{a.pushState(s,"",l)}catch(f){n.location.assign(l)}_(o)}},replace:function t(e,n){var u=r.Replace,o=P(e,n);if(S(u,o,(function(){t(e,n)}))){var i=w(o,y),c=i[0],s=i[1];a.replaceState(c,"",s),_(u)}},go:E,back:function(){E(-1)},forward:function(){E(1)},listen:function(t){return x.push(t)},block:function(t){var e=j.push(t);return 1===j.length&&n.addEventListener(c,l),function(){e(),j.length||n.removeEventListener(c,l)}}}}();return(0,u.useEffect)((function(){""!==k&&d.Z.get("https://api.themoviedb.org/3/search/movie?api_key=d0540c3f94b98f357d5d7224e563e83f&query=".concat(k)).then((function(t){b(t.data.results)})).catch((function(t){console.log(t)}))}),[k]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("form",{onSubmit:function(t){t.preventDefault(),P(t.currentTarget.elements[0].value),b(!0),C.push("?query=".concat(t.currentTarget.elements[0].value)),t.target.reset()},children:[(0,y.jsx)("input",{type:"text",placeholder:"Please enter film name",onChange:function(t){var e=t.target.value;if(""===e)return O({});O({query:e})}}),(0,y.jsx)("button",{type:"submit",children:"Search"})]}),(0,y.jsx)("ul",{children:n.length>0?n.map((function(t){var e=t.release_date,n=t.original_title,r=t.id,a=t.poster_path;return(0,y.jsx)("ul",{children:(0,y.jsxs)("li",{children:[(0,y.jsxs)(m.rU,{to:"/movies/".concat(r),state:{from:w},children:[n,(0,y.jsx)("div",{children:(0,y.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(a),alt:n,width:"300",height:"400"})})]}),(0,y.jsxs)("p",{children:["Release Date:",(0,y.jsxs)("span",{children:[" ",e||"No date"]})]})]})},r)})):null})]})}}}]);
//# sourceMappingURL=549.07704e40.chunk.js.map