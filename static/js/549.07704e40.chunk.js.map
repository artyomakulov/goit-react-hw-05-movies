{"version":3,"file":"static/js/549.07704e40.chunk.js","mappings":"2MAAe,SAAS,IAetB,OAdA,EAAWA,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,GAG3B,CAEA,OAAOL,CACT,EAEO,EAASS,MAAMC,KAAMR,UAC9B,E,y2BCXe,SAASS,IACtB,OAAoCC,EAAAA,EAAAA,WAAS,GAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACAC,QAAQC,IAAI,eAAgBH,GAI5B,IAAMI,E,0iDAAUC,GAkChB,OAhBAC,EAAAA,EAAAA,YAAU,WACW,KAAfX,GAGJY,EAAAA,EAAAA,IAAA,mGAEgGZ,IAE7Fa,MAAK,SAAAC,GACJf,EAAce,EAAIC,KAAKC,QACxB,IACAC,OAAM,SAAAC,GACLX,QAAQC,IAAIU,EACb,GACJ,GAAE,CAAClB,KAGF,iCACE,kBAAMmB,SA1BW,SAAAC,GACnBA,EAAEC,iBACFpB,EAAcmB,EAAEE,cAAcC,SAAS,GAAGC,OAC1CzB,GAAc,GACdU,EAAQgB,KAAR,iBAAuBL,EAAEE,cAAcC,SAAS,GAAGC,QACnDJ,EAAEnC,OAAOyC,OACV,EAoBG,WACE,kBACEC,KAAK,OACLC,YAAY,yBACZC,SAtCkB,SAAAC,GACxB,IAAMC,EAAeD,EAAI7C,OAAOuC,MAChC,GAAqB,KAAjBO,EACF,OAAOzB,EAAgB,CAAC,GAE1BA,EAAgB,CAAE0B,MAAOD,GAC1B,KAkCK,mBAAQJ,KAAK,SAAb,wBAEF,wBACG7B,EAAWV,OAAS,EACjBU,EAAWmC,KACT,YAAwD,IAArDC,EAAoD,EAApDA,aAAcC,EAAsC,EAAtCA,eAAgBC,EAAsB,EAAtBA,GAAIC,EAAkB,EAAlBA,YACnC,OACE,yBACE,2BACE,UAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAMtC,GAA1C,UACGiC,GACD,0BACE,gBACEM,IAAG,0CAAqCJ,GACxCK,IAAKP,EACLQ,MAAM,MACNC,OAAO,cAIb,0CAEE,gCAAQV,GAA8B,oBAfnCE,EAoBZ,IAEH,SAIX,C","sources":["../node_modules/@babel/runtime/helpers/esm/extends.js","pages/Movies.jsx"],"sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import { useState, useEffect } from 'react';\nimport { createBrowserHistory } from 'history';\nimport axios from 'axios';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nexport default function Movies() {\n  const [searchFilm, setSearchFilm] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  console.log('searchParams', searchParams);\n  // const movieId = searchParams.get('movieId') ?? '';\n  // console.log('searchParams', searchParams.get('a'))\n\n  const history = createBrowserHistory();\n\n  const updateQueryString = evt => {\n    const movieIdValue = evt.target.value;\n    if (movieIdValue === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: movieIdValue });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setInputValue(e.currentTarget.elements[0].value);\n    setSearchFilm(true);\n    history.push(`?query=${e.currentTarget.elements[0].value}`);\n    e.target.reset();\n  };\n\n  useEffect(() => {\n    if (inputValue === '') {\n      return;\n    }\n    axios\n      .get(\n        `https://api.themoviedb.org/3/search/movie?api_key=d0540c3f94b98f357d5d7224e563e83f&query=${inputValue}`\n      )\n      .then(res => {\n        setSearchFilm(res.data.results);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, [inputValue]);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Please enter film name\"\n          onChange={updateQueryString}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      <ul>\n        {searchFilm.length > 0\n          ? searchFilm.map(\n              ({ release_date, original_title, id, poster_path }) => {\n                return (\n                  <ul key={id}>\n                    <li>\n                      <Link to={`/movies/${id}`} state={{ from: location }}>\n                        {original_title}\n                        <div>\n                          <img\n                            src={`https://image.tmdb.org/t/p/w300/${poster_path}`}\n                            alt={original_title}\n                            width=\"300\"\n                            height=\"400\"\n                          />\n                        </div>\n                      </Link>\n                      <p>\n                        Release Date:\n                        <span> {release_date ? release_date : 'No date'}</span>\n                      </p>\n                    </li>\n                  </ul>\n                );\n              }\n            )\n          : null}\n      </ul>\n    </>\n  );\n}\n\n// import { useState } from 'react';\n// import { Link, useLocation, useSearchParams } from 'react-router-dom';\n\n// export default function Movies() {\n//   const [searchTerm, setSearchTerm] = useState([]);\n//   const location = useLocation();\n//   const [searchParams, setSearchParams] = useSearchParams();\n//   const movieId = searchParams.get('movieId') ?? '';\n//   // console.log('searchParams', searchParams.get('a'))\n\n//   const updateQueryString = evt => {\n//     const movieIdValue = evt.target.value;\n//     if (movieIdValue === '') {\n//       return setSearchParams({});\n//     }\n//     setSearchParams({ movieId: movieIdValue });\n//   };\n\n//   const visibleMovies = searchTerm.filter(movie => movie.includes(movieId));\n\n//   console.log('location', location);\n\n//   return (\n//     <div>\n//       <form>\n//         <input\n//           type=\"search\"\n//           placeholder=\"Search movie\"\n//           value={searchTerm}\n//           // onChange={handleInputChange}\n//         />\n//         <button type=\"submit\">Search</button>\n//       </form>\n//       <ul>\n//         {searchTerm.map(movie => (\n//           <li key={movie.id}>\n//             <Link to={`/movie/${movie.id}`} state={{ from: location }}>\n//               {movie.title}\n//             </Link>\n//           </li>\n//         ))}\n//       </ul>\n//     </div>\n//   );\n// }\n"],"names":["Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","Movies","useState","searchFilm","setSearchFilm","inputValue","setInputValue","location","useLocation","useSearchParams","searchParams","setSearchParams","console","log","history","createBrowserHistory","useEffect","axios","then","res","data","results","catch","error","onSubmit","e","preventDefault","currentTarget","elements","value","push","reset","type","placeholder","onChange","evt","movieIdValue","query","map","release_date","original_title","id","poster_path","to","state","from","src","alt","width","height"],"sourceRoot":""}