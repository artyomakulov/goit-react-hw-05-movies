{"version":3,"file":"static/js/135.541b2498.chunk.js","mappings":"mOACA,EAA2B,+BAA3B,EAA2E,qCAA3E,EAA0H,8BAA1H,EAAkK,8B,SCKnJ,SAASA,IAAgB,IAAD,IACrC,GAAwCC,EAAAA,EAAAA,UAAS,CAC/CC,GAAI,EACJC,MAAO,GACPC,QAAS,EACTC,IAAK,GACLC,SAAU,GACVC,OAAQ,KANV,eAAOC,EAAP,KAAqBC,EAArB,KAQMC,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,WACnDC,GAAYC,EAAAA,EAAAA,MAAZD,QACRE,QAAQC,IAAI,WAAYT,IAExBU,EAAAA,EAAAA,YAAU,WACRC,EAAAA,EAAAA,IAAA,6CAE0CL,EAF1C,8CAIGM,MAAK,SAAAC,GACJd,EAAgB,CACdP,GAAIqB,EAAIC,KAAKtB,GACbC,MAAOoB,EAAIC,KAAKC,eAChBrB,QAASmB,EAAIC,KAAKE,aAClBrB,IAAKkB,EAAIC,KAAKG,YACdrB,SAAUiB,EAAIC,KAAKlB,SACnBC,OAAQgB,EAAIC,KAAKjB,QAEpB,GACJ,GAAE,CAACS,IACJ,IAAQb,EAA0CK,EAA1CL,MAAOE,EAAmCG,EAAnCH,IAAKD,EAA8BI,EAA9BJ,QAASE,EAAqBE,EAArBF,SAAUC,EAAWC,EAAXD,OAEvC,OACE,+BACE,iBAAKqB,UAAWC,EAAhB,WACE,wBAAK1B,KACL,0BACE,mBAAQyB,UAAWC,EAAnB,UACE,SAAC,KAAD,CAAMC,GAAIlB,EAAoBmB,QAA9B,uBAGJ,4BACE,yBACG1B,GACC,gBACE2B,IAAG,0CAAqC3B,GACxC4B,IAAK9B,EACL+B,OAAO,SAGT,gBACEF,IAAG,yDACHC,IAAI,YACJE,MAAM,MACND,OAAO,WAIb,4BACE,wCAAgB9B,MAChB,sCACA,uBAAIE,KACJ,oCACA,wBACGC,GACCA,EAAO6B,KAAI,YAAmB,IAAhBlC,EAAe,EAAfA,GAAImC,EAAW,EAAXA,KAChB,OACE,cAAYT,UAAWC,EAAvB,SACGQ,GADKnC,EAIX,aAIT,0BACE,2BACE,yBACE,SAAC,KAAD,CACE4B,GAAG,UACHhB,MAAO,CAAEC,KAAMH,GACfgB,UAAWC,EAHb,wBAQF,yBACE,SAAC,KAAD,CACEC,GAAG,OACHhB,MAAO,CAAEC,KAAMH,GACfgB,UAAWC,EAHb,yBASC,KACP,SAAC,EAAAS,SAAD,CAAUC,UAAU,gDAApB,UACE,SAAC,KAAD,UAKT,C","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieBox\":\"MovieDetails_movieBox__pi2XS\",\"ulMovieDetails\":\"MovieDetails_ulMovieDetails__A38cu\",\"btnBack\":\"MovieDetails_btnBack__X1hfE\",\"liLinks\":\"MovieDetails_liLinks__q9mac\"};","import { useRef } from 'react';\nimport { Suspense, useState, useEffect } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport css from './MovieDetails.module.css';\n\nexport default function MovieDetails() {\n  const [movieDetails, setMovieDetails] = useState({\n    id: 0,\n    title: '',\n    average: 0,\n    img: '',\n    overview: '',\n    genres: [],\n  });\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n  const { movieId } = useParams();\n  console.log('location', location);\n\n  useEffect(() => {\n    axios\n      .get(\n        `https://api.themoviedb.org/3/movie/${movieId}?api_key=d0540c3f94b98f357d5d7224e563e83f`\n      )\n      .then(res => {\n        setMovieDetails({\n          id: res.data.id,\n          title: res.data.original_title,\n          average: res.data.vote_average,\n          img: res.data.poster_path,\n          overview: res.data.overview,\n          genres: res.data.genres,\n        });\n      });\n  }, [movieId]);\n  const { title, img, average, overview, genres } = movieDetails;\n\n  return (\n    <>\n      <div className={css.movieBox}>\n        <h1>{title}</h1>\n        <div>\n          <button className={css.btnBack}>\n            <Link to={backLinkLocationRef.current}>Back</Link>\n          </button>\n        </div>\n        <div>\n          <div>\n            {img ? (\n              <img\n                src={`https://image.tmdb.org/t/p/w300/${img}`}\n                alt={title}\n                height=\"400\"\n              />\n            ) : (\n              <img\n                src={`https://img10.joyreactor.cc/pics/post/anon-5573344.png`}\n                alt=\"not found\"\n                width=\"266\"\n                height=\"400\"\n              />\n            )}\n          </div>\n          <div>\n            <p>User score: {average}</p>\n            <h2>Overview</h2>\n            <p>{overview}</p>\n            <h2>Genres</h2>\n            <ul>\n              {genres &&\n                genres.map(({ id, name }) => {\n                  return (\n                    <p key={id} className={css.ulMovieDetails}>\n                      {name}\n                    </p>\n                  );\n                })}\n            </ul>\n          </div>\n        </div>\n        <div>\n          <ul>\n            <li>\n              <Link\n                to=\"reviews\"\n                state={{ from: backLinkLocationRef }}\n                className={css.liLinks}\n              >\n                Reviews\n              </Link>\n            </li>\n            <li>\n              <Link\n                to=\"cast\"\n                state={{ from: backLinkLocationRef }}\n                className={css.liLinks}\n              >\n                Cast\n              </Link>\n            </li>\n          </ul>\n        </div>{' '}\n        <Suspense fallback={<div>Loading subpage...</div>}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </>\n  );\n}\n"],"names":["MovieDetails","useState","id","title","average","img","overview","genres","movieDetails","setMovieDetails","location","useLocation","backLinkLocationRef","useRef","state","from","movieId","useParams","console","log","useEffect","axios","then","res","data","original_title","vote_average","poster_path","className","css","to","current","src","alt","height","width","map","name","Suspense","fallback"],"sourceRoot":""}